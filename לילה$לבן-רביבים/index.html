<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×˜×•×¤×¡ ×”×¨×©××” ×œ×ª×—×¨×•×ª "×”×œ×™×œ×” ×©×œ ××™×§×¨×•×¤×•×Ÿ ×¤×ª×•×—"</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #9d50e8;
            --secondary-color: #ff4081;
            --dark-color: #1a1a2e;
            --light-color: #f8f9fa;
            --stage-color: #4a148c;
            --mic-color: #ff9800;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Rubik', sans-serif;
            background-color: var(--dark-color);
            color: var(--light-color);
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(157, 80, 232, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 64, 129, 0.1) 0%, transparent 20%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            padding: 20px 0;
        }
        
        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            display: inline-block;
        }
        
        .header h1::before {
            content: "ğŸ¤";
            position: absolute;
            left: -50px;
            top: 0;
            font-size: 2.5rem;
            animation: pulse 2s infinite;
        }
        
        .header p {
            font-size: 1.1rem;
            color: #ccc;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .countdown-container {
            background-color: rgba(255, 64, 129, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid rgba(255, 64, 129, 0.3);
        }
        
        .countdown-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--secondary-color);
        }
        
        .countdown {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .countdown-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.3);
            padding: 10px 15px;
            border-radius: 10px;
            min-width: 80px;
        }
        
        .countdown-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .countdown-label {
            font-size: 0.9rem;
            color: #aaa;
            margin-top: 5px;
        }
        
        .form-closed-overlay {
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
        }
        
        .form-closed-overlay.hidden {
            display: none;
        }
        
        .form-closed-icon {
            font-size: 5rem;
            color: var(--secondary-color);
            margin-bottom: 20px;
        }
        
        .form-closed-title {
            font-size: 2.5rem;
            color: var(--secondary-color);
            margin-bottom: 20px;
        }
        
        .form-closed-message {
            font-size: 1.2rem;
            max-width: 600px;
            line-height: 1.8;
        }
        
        .form-container {
            background-color: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
            position: relative;
        }
        
        .stage-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            position: relative;
        }
        
        .stage-indicator::before {
            content: '';
            position: absolute;
            top: 20px;
            right: 0;
            width: 100%;
            height: 3px;
            background-color: rgba(255, 255, 255, 0.1);
            z-index: 1;
        }
        
        .stage {
            text-align: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }
        
        .stage-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
            color: #aaa;
            transition: all 0.3s ease;
        }
        
        .stage.active .stage-circle {
            background-color: var(--primary-color);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 15px var(--primary-color);
        }
        
        .stage.completed .stage-circle {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .stage-label {
            font-size: 0.9rem;
            color: #aaa;
        }
        
        .stage.active .stage-label {
            color: var(--light-color);
        }
        
        .form-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .form-section.active {
            display: block;
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--primary-color);
            position: relative;
            padding-right: 15px;
        }
        
        .section-title::before {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 5px;
            background-color: var(--secondary-color);
            border-radius: 3px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            background-color: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--light-color);
            font-size: 1rem;
            transition: all 0.3s ease;
            text-align: right;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(157, 80, 232, 0.2);
        }
        
        select.form-control {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%239d50e8' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: left 15px center;
            background-size: 12px;
            padding-left: 40px;
        }
        
        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .radio-option input {
            margin-left: 8px;
            cursor: pointer;
        }
        
        .participants-container {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }
        
        .participant-input {
            margin-bottom: 10px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 25px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
        }
        
        .btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-secondary {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .btn-secondary:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .checkbox-group {
            display: flex;
            align-items: flex-start;
            margin-top: 15px;
        }
        
        .checkbox-group input {
            margin-left: 10px;
            margin-top: 5px;
        }
        
        .checkbox-group a {
            color: var(--secondary-color);
            text-decoration: none;
        }
        
        .checkbox-group a:hover {
            text-decoration: underline;
        }
        
        .hidden {
            display: none;
        }
        
        .playback-options {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }
        
        .playback-option-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .form-notice {
            background-color: rgba(255, 64, 129, 0.1);
            border-right: 4px solid var(--secondary-color);
            padding: 15px;
            border-radius: 5px;
            margin-top: 25px;
            font-size: 0.9rem;
        }
        
        .success-message {
            text-align: center;
            padding: 40px 20px;
            display: none;
        }
        
        .success-icon {
            font-size: 5rem;
            color: var(--secondary-color);
            margin-bottom: 20px;
            animation: bounce 1s infinite alternate;
        }
        
        .success-message h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-10px); }
        }
        
        .mic-animation {
            position: fixed;
            bottom: 20px;
            left: 20px;
            font-size: 3rem;
            color: var(--mic-color);
            animation: pulse 2s infinite;
            z-index: 100;
            opacity: 0.7;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .header h1::before {
                position: static;
                display: block;
                margin-top: 10px;
                margin-bottom: 10px;
            }
            
            .stage-indicator {
                flex-wrap: wrap;
                gap: 15px;
            }
            
            .stage {
                flex: 0 0 calc(50% - 15px);
                margin-bottom: 10px;
            }
            
            .radio-group {
                flex-direction: column;
                gap: 10px;
            }
            
            .form-navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
            }
            
            .countdown {
                flex-wrap: wrap;
            }
            
            .countdown-item {
                min-width: 70px;
            }
        }
    </style>
</head>
<body>
    
    <div class="container">
        <div class="header">
            <h1>×”×œ×™×œ×” ×©×œ ××™×§×¨×•×¤×•×Ÿ ×¤×ª×•×—</h1>
            <p>×˜×•×¤×¡ ×”×¨×©××” ×œ×ª×—×¨×•×ª ×”××•×–×™×§×”. ×× × ××œ××• ××ª ×›×œ ×©×“×•×ª ×”×˜×•×¤×¡ ×œ×¤×™ ×”×¡×“×¨.</p>
        </div>
        
        <div class="countdown-container">
            <div class="countdown-title">×–××Ÿ × ×•×ª×¨ ×œ×”×’×©×ª ××•×¢××“×•×ª:</div>
            <div class="countdown">
                <div class="countdown-item">
                    <div class="countdown-value" id="days">00</div>
                    <div class="countdown-label">×™××™×</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-value" id="hours">00</div>
                    <div class="countdown-label">×©×¢×•×ª</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-value" id="minutes">00</div>
                    <div class="countdown-label">×“×§×•×ª</div>
                </div>
            </div>
        </div>
        
        <div class="form-container">
            <!-- Overlay when form is closed -->
            <div id="form-closed-overlay" class="form-closed-overlay hidden">
                <div class="form-closed-icon">
                    <i class="fas fa-calendar-times"></i>
                </div>
                <div class="form-closed-title">×”×˜×•×¤×¡ × ×¡×’×¨!</div>
                <div class="form-closed-message">
                    <p>×ª×§×•×¤×ª ×”×”×¨×©××” ×œ×ª×—×¨×•×ª "×”×œ×™×œ×” ×©×œ ××™×§×¨×•×¤×•×Ÿ ×¤×ª×•×—" ×”×¡×ª×™×™××”.</p>
                    <p>×ª××¨×™×š ××—×¨×•×Ÿ ×œ×”×’×©×ª ××•×¢××“×•×ª ×”×™×” 18 ×‘×™× ×•××¨.</p>
                    <p>×ª×•×“×” ×œ×›×œ ×”××©×ª×ª×¤×™×! × ×¤×¨×¡× ××ª ×©××•×ª ×”××ª××•×“×“×™× ×©×™×¢×œ×• ×œ×©×œ×‘ ×”×‘× ×‘×§×¨×•×‘.</p>
                </div>
            </div>
            
            <div class="stage-indicator">
                <div class="stage active" data-stage="0">
                    <div class="stage-circle">1</div>
                    <div class="stage-label">× ×ª×•× ×™× ××™×©×™×™×</div>
                </div>
                <div class="stage" data-stage="1">
                    <div class="stage-circle">2</div>
                    <div class="stage-label">×¡×•×’ ×”×”×©×ª×ª×¤×•×ª</div>
                </div>
                <div class="stage" data-stage="2">
                    <div class="stage-circle">3</div>
                    <div class="stage-label">××©×ª×ª×¤×™×</div>
                </div>
                <div class="stage" data-stage="3">
                    <div class="stage-circle">4</div>
                    <div class="stage-label">×©×™×¨</div>
                </div>
                <div class="stage" data-stage="4">
                    <div class="stage-circle">5</div>
                    <div class="stage-label">××™×©×•×¨</div>
                </div>
            </div>
            
            <form id="competition-form" action="https://formsubmit.co/reg.risingstar@gmail.com" method="POST">
                <!-- Hidden fields for FormSubmit -->
                <input type="hidden" name="_subject" value="×”×¨×©××” ×—×“×©×” ×œ×ª×—×¨×•×ª ×”×œ×™×œ×” ×©×œ ××™×§×¨×•×¤×•×Ÿ ×¤×ª×•×—">
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="_template" value="table">
                <input type="hidden" name="_next" value="success.html">
                <input type="hidden" name="_autoresponse" value="×ª×•×“×” ×¢×œ ×”×¨×©××ª×š ×œ×ª×—×¨×•×ª '×”×œ×™×œ×” ×©×œ ××™×§×¨×•×¤×•×Ÿ ×¤×ª×•×—'! ×§×™×‘×œ× ×• ××ª ×¤×¨×˜×™×š ×•× ×—×–×•×¨ ××œ×™×š ×‘×”×§×“×.">
                
                <!-- Stage 0: Applicant Data -->
                <div class="form-section active" id="section-0">
                    <h2 class="section-title">× ×ª×•× ×™× ××™×©×™×™× ×©×œ ×”××’×™×©</h2>
                    
                    <div class="form-group">
                        <label for="applicant-name">×©× ××œ× *</label>
                        <input type="text" id="applicant-name" name="applicant_name" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="applicant-class">×›×™×ª×” *</label>
                        <input type="text" id="applicant-class" name="applicant_class" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="applicant-phone">××¡×¤×¨ ×˜×œ×¤×•×Ÿ *</label>
                        <input type="tel" id="applicant-phone" name="applicant_phone" class="form-control" required>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn next-btn" data-next="1">×”×‘× â†’</button>
                        <div></div> <!-- Empty element for alignment -->
                    </div>
                </div>
                
                <!-- Stage 1: Solo or Group -->
                <div class="form-section" id="section-1">
                    <h2 class="section-title">×¡×•×’ ×”×”×©×ª×ª×¤×•×ª</h2>
                    
                    <div class="form-group">
                        <label>××ª× ××©×ª×ª×¤×™× ×›:</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="participation_type" value="solo" checked>
                                ×¡×•×œ×Ÿ/×¡×•×œ× ×™×ª
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="participation_type" value="group">
                                ×œ×”×§×” / ×”×¨×›×‘
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-notice">
                        <p><i class="fas fa-info-circle"></i> ×¢×‘×•×¨ ×”×¨×›×‘ × ×™×ª×Ÿ ×œ×¦×™×™×Ÿ ×¢×“ 5 ××©×ª×ª×¤×™×, ×›×•×œ×œ ×¡×•×œ×Ÿ.</p>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn next-btn" data-next="2">×”×‘× â†’</button>
                        <button type="button" class="btn btn-secondary prev-btn" data-prev="0">â† ×”×§×•×“×</button>
                    </div>
                </div>
                
                <!-- Stage 2: Participants -->
                <div class="form-section" id="section-2">
                    <h2 class="section-title">××™×“×¢ ×¢×œ ×”××©×ª×ª×¤×™×</h2>
                    
                    <div class="form-group solo-section">
                        <label for="solo-name">×©× ×”×¡×•×œ×Ÿ/×™×ª *</label>
                        <input type="text" id="solo-name" name="solo_name" class="form-control">
                    </div>
                    
                    <div class="form-group group-section hidden">
                        <label for="group-name">×©× ×”×”×¨×›×‘ / ×”×œ×”×§×” *</label>
                        <input type="text" id="group-name" name="group_name" class="form-control">
                        
                        <div class="participants-container">
                            <p>××©×ª×ª×¤×™ ×”×”×¨×›×‘ (× × ×œ×¦×™×™×Ÿ ×©× ×•××©×¤×—×” ×©×œ ×›×œ ××©×ª×ª×£):</p>
                            
                            <div class="form-group participant-input">
                                <label for="participant1">××©×ª×ª×£ 1 (×¡×•×œ×Ÿ) *</label>
                                <input type="text" id="participant1" name="participant1" class="form-control">
                            </div>
                            
                            <div class="form-group participant-input">
                                <label for="participant2">××©×ª×ª×£ 2</label>
                                <input type="text" id="participant2" name="participant2" class="form-control">
                            </div>
                            
                            <div class="form-group participant-input">
                                <label for="participant3">××©×ª×ª×£ 3</label>
                                <input type="text" id="participant3" name="participant3" class="form-control">
                            </div>
                            
                            <div class="form-group participant-input">
                                <label for="participant4">××©×ª×ª×£ 4</label>
                                <input type="text" id="participant4" name="participant4" class="form-control">
                            </div>
                            
                            <div class="form-group participant-input">
                                <label for="participant5">××©×ª×ª×£ 5</label>
                                <input type="text" id="participant5" name="participant5" class="form-control">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn next-btn" data-next="3">×”×‘× â†’</button>
                        <button type="button" class="btn btn-secondary prev-btn" data-prev="1">â† ×”×§×•×“×</button>
                    </div>
                </div>
                
                <!-- Stage 3: Song -->
                <div class="form-section" id="section-3">
                    <h2 class="section-title">×‘×—×™×¨×ª ×©×™×¨</h2>
                    
                    <div class="form-group">
                        <label for="song-select">×‘×—×¨×• ×©×™×¨ *</label>
                        <select id="song-select" name="selected_song" class="form-control" required>
                            <option value="">-- ×‘×—×¨×• ×©×™×¨ --</option>
                            <!-- Song options will be added by JavaScript -->
                        </select>
                    </div>
                    
                    <div class="form-group custom-song-section hidden">
                        <label for="custom-song">× × ×œ×¦×™×™×Ÿ ×©× ×©×™×¨ *</label>
                        <input type="text" id="custom-song" name="custom_song" class="form-control" placeholder="×©× ×”×©×™×¨ ×•×”×××Ÿ">
                    </div>
                    
                    <!-- Playback options -->
                    <div class="form-group playback-section" id="playback-options">
                        <label>×¡×•×’ ×”×¤×œ×™×™×‘×™×™×§:</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="playback_type" value="from_table" checked>
                                ×¤×œ×™×™×‘×™×™×§ ××˜×‘×œ×ª ×”×ª×—×¨×•×ª
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="playback_type" value="own">
                                ×¤×œ×™×™×‘×™×™×§ ×¢×¦××™
                            </label>
                        </div>
                        
                        <div class="playback-options" id="version-options">
                            <p>×‘×—×¨×• ×’×¨×¡×” ××˜×‘×œ×ª ×”×ª×—×¨×•×ª:</p>
                            <div class="playback-option-group">
                                <label class="radio-option">
                                    <input type="radio" name="song_version" value="version1">
                                    ×’×¨×¡×” 1
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="song_version" value="version2">
                                    ×’×¨×¡×” 2
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="song_version" value="version3">
                                    ×’×¨×¡×” 3
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="song_version" value="version4">
                                    ×’×¨×¡×” 4
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn next-btn" data-next="4">×”×‘× â†’</button>
                        <button type="button" class="btn btn-secondary prev-btn" data-prev="2">â† ×”×§×•×“×</button>
                    </div>
                </div>
                
                <!-- Stage 4: Agreement -->
                <div class="form-section" id="section-4">
                    <h2 class="section-title">××™×©×•×¨ ×”×”×¨×©××”</h2>
                    
                    <div class="form-group">
                        <p>× × ×œ×‘×“×•×§ ××ª ×”× ×ª×•× ×™× ×©×”×•×–× ×•:</p>
                        
                        <div id="review-data" style="background-color: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; margin-top: 15px;">
                            <!-- Review data will be inserted automatically -->
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agree-terms" name="agree_terms" required>
                            <label for="agree-terms">
                                ×× ×™ ××¡×›×™×/×” ×œ<a href="https://law.ristar.co" target="_blank">××“×™× ×™×•×ª ×”×¤×¨×˜×™×•×ª ×•×ª× ××™ ×”×©×™××•×©</a> ×©×œ ×©×™×¨×•×ª Rising Star ×œ×ª×—×¨×•×ª "×”×œ×™×œ×” ×©×œ ××™×§×¨×•×¤×•×Ÿ ×¤×ª×•×—". *
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-notice">
                        <p><i class="fas fa-exclamation-circle"></i> ×œ××—×¨ ×©×œ×™×—×ª ×”×˜×•×¤×¡ ×ª×§×‘×œ×• ××™×©×•×¨ ×œ×›×ª×•×‘×ª ×”××™×™×œ ×©×¦×•×™× ×” ×‘×ª×•×š 24 ×©×¢×•×ª. ×× ×œ× ×§×™×‘×œ×ª× ××™×©×•×¨, ×¦×¨×• ×§×©×¨ ×‘×›×ª×•×‘×ª reg.risingstar@gmail.com</p>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="submit" class="btn" id="submit-btn">×©×œ×™×—×ª ×”×”×¨×©××”</button>
                        <button type="button" class="btn btn-secondary prev-btn" data-prev="3">â† ×”×§×•×“×</button>
                    </div>
                </div>
            </form>
            
            <!-- Success message -->
            <div id="success-message" class="success-message">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2>×”×”×¨×©××” × ×©×œ×—×”!</h2>
                <p>×”×”×¨×©××” ×©×œ×›× ×œ×ª×—×¨×•×ª "×”×œ×™×œ×” ×©×œ ××™×§×¨×•×¤×•×Ÿ ×¤×ª×•×—" × ×©×œ×—×” ×‘×”×¦×œ×—×”.</p>
                <p>× ×™×¦×•×¨ ×§×©×¨ ×‘×§×¨×•×‘ ×œ×¤×™ ××¡×¤×¨ ×”×˜×œ×¤×•×Ÿ ×©×¦×•×™×Ÿ.</p>
                <p style="margin-top: 30px;">
                    <button type="button" class="btn" id="new-application-btn">×”×’×©×ª ×”×¨×©××” ×—×“×©×”</button>
                </p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM elements
            const form = document.getElementById('competition-form');
            const sections = document.querySelectorAll('.form-section');
            const stages = document.querySelectorAll('.stage');
            const nextButtons = document.querySelectorAll('.next-btn');
            const prevButtons = document.querySelectorAll('.prev-btn');
            const participationTypeRadios = document.querySelectorAll('input[name="participation_type"]');
            const soloSection = document.querySelector('.solo-section');
            const groupSection = document.querySelector('.group-section');
            const songSelect = document.getElementById('song-select');
            const customSongSection = document.querySelector('.custom-song-section');
            const customSongInput = document.getElementById('custom-song');
            const playbackSection = document.getElementById('playback-options');
            const versionOptions = document.getElementById('version-options');
            const playbackTypeRadios = document.querySelectorAll('input[name="playback_type"]');
            const submitBtn = document.getElementById('submit-btn');
            const successMessage = document.getElementById('success-message');
            const newApplicationBtn = document.getElementById('new-application-btn');
            const formClosedOverlay = document.getElementById('form-closed-overlay');
            const reviewData = document.getElementById('review-data');
            
            // Countdown elements
            const daysElement = document.getElementById('days');
            const hoursElement = document.getElementById('hours');
            const minutesElement = document.getElementById('minutes');
            
            // Song list from the provided data
            const songs = [
                {number: 99, title: "×œ× ×‘×¨×©×™××”", artist: ""},
                {number: 1, title: "×-×‘×-× ×™-×‘×™", artist: "×™×–×”×¨ ×›×”×Ÿ"},
                {number: 2, title: "××‘×", artist: "×©×œ××” ×©×‘×ª"},
                {number: 3, title: "×× ××œ×” ×”×—×™×™×", artist: "×§×¨×Ÿ ×¤×œ×¡"},
                {number: 4, title: "×“×™×•×•×”", artist: "×“× ×” ××™× ×˜×¨× ×©× ×œ"},
                {number: 5, title: "×”×¤×¨×— ×‘×’× ×™", artist: "×–×•×”×¨ ××¨×’×•×‘"},
                {number: 6, title: "×”×©×§×˜ ×©× ×©××¨", artist: "×©×™×¨×™ ××™××•×Ÿ"},
                {number: 7, title: "×—×’×™×’×”", artist: "×©×¨×™×ª ×—×“×“"},
                {number: 8, title: "×—×™", artist: "×¢×¤×¨×” ×—×–×”"},
                {number: 9, title: "×—×™×›×™×ª×™ ×œ×š", artist: "×¨×™× ×ª ×‘×¨"},
                {number: 10, title: "×—×œ×‘ ×•×“×‘×©", artist: "×’×œ×™ ×¢×˜×¨×™"},
                {number: 11, title: "×™× ×©×œ ×“××¢×•×ª", artist: "×©×™×¨×™ ××™××•×Ÿ / ×–×•×”×¨ ××¨×’×•×‘"},
                {number: 12, title: "×™×¦×× ×• ×œ×¨×§×•×“", artist: "×”×“×•×¨×‘× ×™×"},
                {number: 13, title: "×›×©×”×œ×‘ ×‘×•×›×”", artist: "×©×¨×™×ª ×—×“×“"},
                {number: 14, title: "×§×¨×•×¡×œ×”", artist: "×©×¨×™×ª ×—×“×“"},
                {number: 15, title: "×§×•×¦×™×", artist: "××‘×™×‘ ×’×¤×Ÿ"},
                {number: 16, title: "×œ×¢×•×œ× ×‘×¢×§×‘×•×ª ×”×©××©", artist: "×©×¨×™"},
                {number: 17, title: "×œ×–×•×–", artist: "×”×“×’ × ×—×©"},
                {number: 18, title: "××‘×•×œ", artist: "×§×¨×Ÿ ×¤×œ×¡"},
                {number: 19, title: "××—×¨×•×–×ª ×™×”×•×“×™×ª ×¨×‘×™×¥", artist: "×ª×–××´×¦"},
                {number: 20, title: "××©×”×• ××× ×™", artist: "×”×¨××œ ×¡×§×¢×ª"},
                {number: 21, title: "×•××ª", artist: "×”×¨××œ ×¡×§×¢×ª"},
                {number: 22, title: "×©××© ××“×•××”", artist: "×’×œ×™ ×¢×˜×¨×™"},
                {number: 23, title: "×©×™×¨ ×œ× ×˜×¢", artist: "× ×™×¨ ×›× ×¢×Ÿ"},
                {number: 24, title: "Baby", artist: "Justin Bieber"},
                {number: 25, title: "Baby One More Time", artist: "Britney Spears"},
                {number: 26, title: "Back to Black", artist: "Amy Winehouse"},
                {number: 27, title: "Because", artist: "The Beatles"},
                {number: 28, title: "Can't Help Falling in Love", artist: "Elvis Presley"},
                {number: 29, title: "Diva", artist: "Dana International"},
                {number: 30, title: "Golden (OST)", artist: "K-Pop Demon Hunters"},
                {number: 31, title: "I'm Outta Love", artist: "Anastacia"},
                {number: 32, title: "I'm Still Standing", artist: "Elton John"},
                {number: 33, title: "I Will Always Love You", artist: "Whitney Houston"},
                {number: 34, title: "I Will Survive", artist: "Gloria Gaynor"},
                {number: 35, title: "New York, New York (OST)", artist: "Frank Sinatra"},
                {number: 36, title: "Skyfall", artist: "Adele"},
                {number: 37, title: "This Love", artist: "Maroon 5"},
                {number: 38, title: "Valerie", artist: "Bruno Mars/Amy Whinehouse"}
            ];
            
            // Populate song dropdown
            songs.forEach(song => {
                const option = document.createElement('option');
                if (song.number === 99) {
                    option.value = "not_in_list";
                    option.textContent = "99 - ×œ× ×‘×¨×©×™××”";
                } else {
                    option.value = `${song.title} - ${song.artist}`;
                    option.textContent = `${song.number} - ${song.title} - ${song.artist}`;
                }
                songSelect.appendChild(option);
            });
            
            // Form state object
            const formState = {
                currentStage: 0,
                data: {},
                isFormOpen: true,
                updateData: function(key, value) {
                    this.data[key] = value;
                    if (this.currentStage === 4) {
                        this.updateReview();
                    }
                },
                updateReview: function() {
                    let reviewHTML = '';
                    
                    // Applicant info
                    if (this.data.applicant_name) {
                        reviewHTML += `<p><strong>××’×™×©/×”:</strong> ${this.data.applicant_name}</p>`;
                    }
                    if (this.data.applicant_class) {
                        reviewHTML += `<p><strong>×›×™×ª×”:</strong> ${this.data.applicant_class}</p>`;
                    }
                    if (this.data.applicant_phone) {
                        reviewHTML += `<p><strong>×˜×œ×¤×•×Ÿ:</strong> ${this.data.applicant_phone}</p>`;
                    }
                    
                    // Participation type
                    if (this.data.participation_type) {
                        reviewHTML += `<p><strong>×¡×•×’ ×”×©×ª×ª×¤×•×ª:</strong> ${this.data.participation_type === 'solo' ? '×¡×•×œ×•' : '×”×¨×›×‘'}</p>`;
                    }
                    
                    // Solo or group info
                    if (this.data.participation_type === 'solo' && this.data.solo_name) {
                        reviewHTML += `<p><strong>×©× ×”×¡×•×œ×Ÿ/×™×ª:</strong> ${this.data.solo_name}</p>`;
                    } else if (this.data.participation_type === 'group') {
                        if (this.data.group_name) {
                            reviewHTML += `<p><strong>×©× ×”×”×¨×›×‘:</strong> ${this.data.group_name}</p>`;
                        }
                        // Add participants if any
                        const participants = [];
                        for (let i = 1; i <= 5; i++) {
                            if (this.data[`participant${i}`]) {
                                participants.push(this.data[`participant${i}`]);
                            }
                        }
                        if (participants.length > 0) {
                            reviewHTML += `<p><strong>××©×ª×ª×¤×™×:</strong><br>`;
                            participants.forEach(participant => {
                                reviewHTML += `&nbsp;&nbsp;â€¢ ${participant}<br>`;
                            });
                            reviewHTML += `</p>`;
                        }
                    }
                    
                    // Song info
                    if (this.data.selected_song === 'not_in_list' && this.data.custom_song) {
                        reviewHTML += `<p><strong>×©×™×¨:</strong> ${this.data.custom_song}</p>`;
                    } else if (this.data.selected_song && this.data.selected_song !== 'not_in_list') {
                        reviewHTML += `<p><strong>×©×™×¨:</strong> ${this.data.selected_song}</p>`;
                    }
                    
                    reviewData.innerHTML = reviewHTML;
                }
            };
            
            // Set deadline: January 18
            const deadline = new Date('January 18, 2026 23:59:59').getTime();
            
            // Check if form should be open (only once on load)
            function checkFormStatus() {
                const now = new Date().getTime();
                const timeLeft = deadline - now;
                
                if (timeLeft <= 0) {
                    // Deadline has passed
                    formState.isFormOpen = false;
                    formClosedOverlay.classList.remove('hidden');
                    
                    // Disable form submission
                    submitBtn.disabled = true;
                    submitBtn.style.opacity = '0.5';
                    submitBtn.style.cursor = 'not-allowed';
                    
                    // Disable all form inputs
                    const formInputs = form.querySelectorAll('input, button, select, textarea');
                    formInputs.forEach(input => {
                        input.disabled = true;
                    });
                }
            }
            
            // Update countdown timer
            function updateCountdown() {
                const now = new Date().getTime();
                const timeLeft = deadline - now;
                
                if (timeLeft <= 0) {
                    daysElement.textContent = '00';
                    hoursElement.textContent = '00';
                    minutesElement.textContent = '00';
                    return;
                }
                
                // Calculate days, hours, minutes
                const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                
                // Update display
                daysElement.textContent = days < 10 ? '0' + days : days;
                hoursElement.textContent = hours < 10 ? '0' + hours : hours;
                minutesElement.textContent = minutes < 10 ? '0' + minutes : minutes;
            }
            
            // Initial countdown and status check
            checkFormStatus();
            updateCountdown();
            setInterval(updateCountdown, 60000); // Update every minute
            
            // Function to go to a specific stage
            function goToStage(stage) {
                // Hide all sections
                sections.forEach(section => {
                    section.classList.remove('active');
                });
                
                // Show target section
                document.getElementById(`section-${stage}`).classList.add('active');
                
                // Update stage indicator
                stages.forEach((stageElement, index) => {
                    stageElement.classList.remove('active', 'completed');
                    
                    if (index === stage) {
                        stageElement.classList.add('active');
                    } else if (index < stage) {
                        stageElement.classList.add('completed');
                    }
                });
                
                formState.currentStage = stage;
                
                // Update review data on stage 4
                if (stage === 4) {
                    formState.updateReview();
                }
            }
            
            // Next button handlers
            nextButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const nextStage = parseInt(this.dataset.next);
                    
                    // Validate current stage
                    if (validateCurrentStage()) {
                        goToStage(nextStage);
                    }
                });
            });
            
            // Previous button handlers
            prevButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const prevStage = parseInt(this.dataset.prev);
                    goToStage(prevStage);
                });
            });
            
            // Toggle between solo and group
            participationTypeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    formState.updateData('participation_type', this.value);
                    
                    if (this.value === 'solo') {
                        soloSection.style.display = 'block';
                        groupSection.classList.add('hidden');
                        document.getElementById('solo-name').required = true;
                        document.getElementById('group-name').required = false;
                        
                        // Clear group fields
                        document.getElementById('group-name').value = '';
                        for (let i = 1; i <= 5; i++) {
                            document.getElementById(`participant${i}`).value = '';
                        }
                    } else {
                        soloSection.style.display = 'none';
                        groupSection.classList.remove('hidden');
                        document.getElementById('solo-name').required = false;
                        document.getElementById('group-name').required = true;
                        
                        // Clear solo field
                        document.getElementById('solo-name').value = '';
                    }
                });
            });
            
            // Handle song selection change
            songSelect.addEventListener('change', function() {
                formState.updateData('selected_song', this.value);
                
                if (this.value === 'not_in_list') {
                    customSongSection.classList.remove('hidden');
                    customSongInput.required = true;
                    playbackSection.classList.add('hidden');
                    songSelect.required = false;
                } else {
                    customSongSection.classList.add('hidden');
                    customSongInput.required = false;
                    playbackSection.classList.remove('hidden');
                    songSelect.required = true;
                    
                    // Clear custom song field
                    customSongInput.value = '';
                }
            });
            
            // Track input changes for form state
            document.querySelectorAll('#competition-form input, #competition-form select').forEach(input => {
                input.addEventListener('change', function() {
                    formState.updateData(this.name, this.value);
                });
                
                input.addEventListener('input', function() {
                    formState.updateData(this.name, this.value);
                });
            });
            
            // Toggle playback type (from table or own)
            playbackTypeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    formState.updateData('playback_type', this.value);
                    
                    if (this.value === 'from_table') {
                        versionOptions.style.display = 'block';
                    } else {
                        versionOptions.style.display = 'none';
                    }
                });
            });
            
            // Validate current stage
            function validateCurrentStage() {
                const currentSection = document.getElementById(`section-${formState.currentStage}`);
                const requiredInputs = currentSection.querySelectorAll('[required]');
                
                for (let input of requiredInputs) {
                    if (!input.value.trim()) {
                        alert('× × ×œ××œ× ××ª ×›×œ ×”×©×“×•×ª ×”×—×•×‘×”.');
                        input.focus();
                        return false;
                    }
                }
                
                return true;
            }
            
            // Form submission handler
            form.addEventListener('submit', function(e) {
                // Check if form is closed
                if (!formState.isFormOpen) {
                    e.preventDefault();
                    alert('×ª×§×•×¤×ª ×”×”×¨×©××” ×”×¡×ª×™×™××”. ×œ× × ×™×ª×Ÿ ×œ×”×’×™×© ××•×¢××“×•×ª.');
                    return;
                }
                
                // Check agreement with terms
                if (!document.getElementById('agree-terms').checked) {
                    e.preventDefault();
                    alert('×¢×œ×™×š ×œ×”×¡×›×™× ×œ××“×™× ×™×•×ª ×”×¤×¨×˜×™×•×ª ×•×ª× ××™ ×”×©×™××•×©.');
                    return;
                }
                
                // If song is not in list, make sure custom song is filled
                if (songSelect.value === 'not_in_list' && !customSongInput.value.trim()) {
                    e.preventDefault();
                    alert('× × ×œ×¦×™×™×Ÿ ××ª ×©× ×”×©×™×¨.');
                    customSongInput.focus();
                    return;
                }
                
                // Form will submit normally to FormSubmit
            });
            
            // New application button
            newApplicationBtn.addEventListener('click', function() {
                // Reset form
                form.reset();
                
                // Reset form state
                formState.data = {};
                formState.currentStage = 0;
                
                // Reset UI
                customSongSection.classList.add('hidden');
                playbackSection.classList.remove('hidden');
                soloSection.style.display = 'block';
                groupSection.classList.add('hidden');
                
                // Show form and stage indicator
                form.style.display = 'block';
                document.querySelector('.stage-indicator').style.display = 'flex';
                successMessage.style.display = 'none';
                
                // Return to first stage
                goToStage(0);
            });
            
            // Initialize
            // Set default participation type
            const defaultParticipation = document.querySelector('input[name="participation_type"]:checked');
            formState.updateData('participation_type', defaultParticipation.value);
        });
    </script>
</body>
</html>